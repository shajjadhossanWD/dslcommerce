(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1426],{3764:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/orders",function(){return r(1562)}])},8102:function(e,n,r){"use strict";var t=r(5893),a=r(7294),s=r(3823),i=r(4481);n.Z=function(e){var n=e.user,r=e.store,l=(0,a.useState)(!1),c=l[0],o=l[1];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Z,{onChangeClass:function(e){o(e)},user:n,store:r}),(0,t.jsx)("nav",{className:"admin-sidebar ".concat(c?"active":null),children:(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(s.Z,{href:"/admin/dashboard",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[(0,t.jsx)("i",{className:"bx bx-home-alt"}),"Dashboard"]})})}),(0,t.jsx)("li",{className:"nav-item",title:"Coming Soon",children:(0,t.jsx)(s.Z,{href:"/admin/products",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[(0,t.jsx)("i",{className:"bx bx-cart"}),"Products"]})})}),(0,t.jsx)("li",{className:"nav-item",title:"Coming Soon",children:(0,t.jsx)(s.Z,{href:"/admin/orders",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[(0,t.jsx)("i",{className:"bx bx-shopping-bag"}),"Orders"]})})}),n&&"super-admin"===n.role?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{className:"nav-item",title:"Coming Soon",children:(0,t.jsx)(s.Z,{href:"/admin/customers",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[(0,t.jsx)("i",{className:"bx bx-user-circle"}),"Customers"]})})}),(0,t.jsx)("li",{className:"nav-item",title:"Coming Soon",children:(0,t.jsx)(s.Z,{href:"/admin/users",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[(0,t.jsx)("i",{className:"bx bxs-user-plus"}),"Admin/Users"]})})}),(0,t.jsx)("li",{className:"nav-item",title:"Coming Soon",children:(0,t.jsx)(s.Z,{href:"/admin/store-requests",activeClassName:"active",children:(0,t.jsxs)("a",{className:"nav-link",children:[(0,t.jsx)("i",{className:"bx bx-git-pull-request"}),"Requests"]})})})]}):"",(0,t.jsx)("li",{className:"nav-item",children:(0,t.jsx)(s.Z,{href:"/",activeClassName:"active",children:(0,t.jsxs)("a",{target:"_blank",className:"nav-link",children:[(0,t.jsx)("i",{className:"bx bx-link"}),"Storefront!"]})})})]})})]})}},8418:function(e,n,r){"use strict";function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,s=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return s}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=void 0;var s,i=(s=r(7294))&&s.__esModule?s:{default:s},l=r(6273),c=r(387),o=r(7190);var u={};function d(e,n,r,t){if(e&&l.isLocalURL(n)){e.prefetch(n,r,t).catch((function(e){0}));var a=t&&"undefined"!==typeof t.locale?t.locale:e&&e.locale;u[n+"%"+r+(a?"%"+a:"")]=!0}}var f=function(e){var n,r=!1!==e.prefetch,t=c.useRouter(),s=i.default.useMemo((function(){var n=a(l.resolveHref(t,e.href,!0),2),r=n[0],s=n[1];return{href:r,as:e.as?l.resolveHref(t,e.as):s||r}}),[t,e.href,e.as]),f=s.href,h=s.as,m=e.children,v=e.replace,x=e.shallow,p=e.scroll,j=e.locale;"string"===typeof m&&(m=i.default.createElement("a",null,m));var b=(n=i.default.Children.only(m))&&"object"===typeof n&&n.ref,g=a(o.useIntersection({rootMargin:"200px"}),2),y=g[0],N=g[1],C=i.default.useCallback((function(e){y(e),b&&("function"===typeof b?b(e):"object"===typeof b&&(b.current=e))}),[b,y]);i.default.useEffect((function(){var e=N&&r&&l.isLocalURL(f),n="undefined"!==typeof j?j:t&&t.locale,a=u[f+"%"+h+(n?"%"+n:"")];e&&!a&&d(t,f,h,{locale:n})}),[h,f,N,j,r,t]);var w={ref:C,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,r,t,a,s,i,c){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&l.isLocalURL(r))&&(e.preventDefault(),n[a?"replace":"push"](r,t,{shallow:s,locale:c,scroll:i}))}(e,t,f,h,v,x,p,j)},onMouseEnter:function(e){n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),l.isLocalURL(f)&&d(t,f,h,{priority:!0})}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var S="undefined"!==typeof j?j:t&&t.locale,k=t&&t.isLocaleDomain&&l.getDomainLocale(h,S,t&&t.locales,t&&t.domainLocales);w.href=k||l.addBasePath(l.addLocale(h,S,t&&t.defaultLocale))}return i.default.cloneElement(n,w)};n.default=f},7190:function(e,n,r){"use strict";function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,s=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(t=r.next()).done)&&(s.push(t.value),!n||s.length!==n);i=!0);}catch(c){l=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return s}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootRef,r=e.rootMargin,t=e.disabled||!l,u=s.useRef(),d=a(s.useState(!1),2),f=d[0],h=d[1],m=a(s.useState(n?n.current:null),2),v=m[0],x=m[1],p=s.useCallback((function(e){u.current&&(u.current(),u.current=void 0),t||f||e&&e.tagName&&(u.current=function(e,n,r){var t=function(e){var n,r={root:e.root||null,margin:e.rootMargin||""},t=o.find((function(e){return e.root===r.root&&e.margin===r.margin}));t?n=c.get(t):(n=c.get(r),o.push(r));if(n)return n;var a=new Map,s=new IntersectionObserver((function(e){e.forEach((function(e){var n=a.get(e.target),r=e.isIntersecting||e.intersectionRatio>0;n&&r&&n(r)}))}),e);return c.set(r,n={id:r,observer:s,elements:a}),n}(r),a=t.id,s=t.observer,i=t.elements;return i.set(e,n),s.observe(e),function(){if(i.delete(e),s.unobserve(e),0===i.size){s.disconnect(),c.delete(a);var n=o.findIndex((function(e){return e.root===a.root&&e.margin===a.margin}));n>-1&&o.splice(n,1)}}}(e,(function(e){return e&&h(e)}),{root:v,rootMargin:r}))}),[t,v,r,f]);return s.useEffect((function(){if(!l&&!f){var e=i.requestIdleCallback((function(){return h(!0)}));return function(){return i.cancelIdleCallback(e)}}}),[f]),s.useEffect((function(){n&&x(n.current)}),[n]),[p,f]};var s=r(7294),i=r(9311),l="undefined"!==typeof IntersectionObserver;var c=new Map,o=[]},1562:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSP:function(){return x},default:function(){return p}});var t=r(5893),a=r(4481),s=r(8102),i=r(4051),l=r.n(i),c=r(9669),o=r.n(c),u=r(7105),d=(r(7294),function(e){var n=e.active;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"admin-product-modal ".concat(n),children:(0,t.jsx)("div",{className:"modal-innter-content",children:(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsx)("button",{type:"button",className:"close",children:(0,t.jsx)("span",{"aria-hidden":"true",children:(0,t.jsx)("i",{className:"bx bx-x"})})}),(0,t.jsx)("h3",{children:"Order Update"}),(0,t.jsxs)("form",{children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Order Status"}),(0,t.jsxs)("select",{className:"form-control",id:"product-type",children:[(0,t.jsx)("option",{children:"Select Option"}),(0,t.jsx)("option",{value:"delivered",children:"Delivered"}),(0,t.jsx)("option",{value:"pending",children:"Pending"}),(0,t.jsx)("option",{value:"cancel",children:"Declined"})]})]}),(0,t.jsxs)("div",{className:"modal-btn",children:[(0,t.jsx)("div",{className:"btn optional-btn float-left",children:"Cancel"}),(0,t.jsx)("button",{className:"btn default-btn float-right",children:"Update"})]})]})]})})})})}),f=r(5297),h=r(1163);function m(e,n,r,t,a,s,i){try{var l=e[s](i),c=l.value}catch(o){return void r(o)}l.done?n(c):Promise.resolve(c).then(t,a)}var v=function(e){var n=e.orders,r=(e.totalPages,(0,h.useRouter)()),a=function(){var e,n=(e=l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.id,e.next=3,o().put("".concat(u.Z,"/api/v1/orders/").concat(t));case 3:r.push("/admin/orders");case 4:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function i(e){m(s,t,a,i,l,"next",e)}function l(e){m(s,t,a,i,l,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"page-header",children:(0,t.jsx)("h2",{children:"Orders"})}),(0,t.jsx)("div",{className:"admin-table admin-orders-table height-555",children:(0,t.jsx)("div",{className:"table-responsive",children:(0,t.jsxs)("table",{className:"table table-hover mb-0",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Action"}),(0,t.jsx)("th",{children:"Customer Email"}),(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{children:"Delivery Address"}),(0,t.jsx)("th",{children:"Amount"}),(0,t.jsx)("th",{children:"Contact"}),(0,t.jsx)("th",{children:"Status"})]})}),(0,t.jsx)("tbody",{children:n.map((function(e){return(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsxs)("label",{className:"switch",children:[(0,t.jsx)("input",{type:"checkbox",id:e.id,checked:e.isDelivered,onChange:a}),(0,t.jsx)("span",{className:"slider round"})]})}),(0,t.jsx)("td",{children:(0,t.jsx)("strong",{children:e.email})}),(0,t.jsx)("td",{children:(0,f.Z)(e.createdAt)}),(0,t.jsx)("td",{children:e.address}),(0,t.jsxs)("td",{children:["$",e.totalPrice]}),(0,t.jsx)("td",{children:e.phone}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:!0===e.isDelivered?"status-button badge badge_success":"status-button badge  badge_danger",children:!0===e.isDelivered?"delivered":"pending"})})]},e.id)}))})]})})}),(0,t.jsx)(d,{}),(0,t.jsx)("div",{className:"flex-grow-1"})]})},x=!0,p=function(e){var n=e.orders,r=e.store,i=e.totalPages,l=e.user;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Z,{user:l}),(0,t.jsx)(s.Z,{user:l,store:r}),(0,t.jsx)("div",{className:"admin-main-content d-flex flex-column",children:n.length>0?(0,t.jsx)(v,{orders:n,totalPages:i}):(0,t.jsx)("p",{className:"empty-store",children:"No Orders Available!"})})]})}},5297:function(e,n){"use strict";n.Z=function(e){return new Date(e).toLocaleDateString("en-US")}},1664:function(e,n,r){e.exports=r(8418)}},function(e){e.O(0,[3530,8523,4481,9774,2888,179],(function(){return n=3764,e(e.s=n);var n}));var n=e.O();_N_E=n}]);