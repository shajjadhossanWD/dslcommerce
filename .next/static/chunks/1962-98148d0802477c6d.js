"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1962],{7513:function(e,n,r){var t=r(4051),a=r.n(t),s=r(5893),i=r(7294),o=r(2286),c=r(5611),l=r(8523),d=r(9669),u=r.n(d),p=r(6968),m=r(279),h=r(7105);function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function v(e,n,r,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void r(l)}o.done?n(c):Promise.resolve(c).then(t,a)}function x(e){return function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function i(e){v(s,t,a,i,o,"next",e)}function o(e){v(s,t,a,i,o,"throw",e)}i(void 0)}))}}function j(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){j(e,n,r[n])}))}return e}function b(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return f(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y={productImage:"",hoverImage:"",name:"",description:"",price:"",oldPrice:"",newProduct:"",availability:"",offer:"",onSale:"",discount:"",discountPercent:"",productType:""};n.Z=function(e){var n=e.handleEdit,r=e.user,t=e.store,d=e.productUpdate,f=e.activeEditModal,v=e.setProductList,N=(0,o.parseCookies)().livani_token,w=(0,c.e1)().addToast,P=(0,i.useState)(y),C=P[0],S=P[1],k=(0,i.useState)(""),I=(k[0],k[1]),O=(0,i.useState)(""),D=O[0],Z=O[1],A=(0,i.useState)("true"),E=A[0],_=A[1],T=(0,i.useState)("true"),U=T[0],F=T[1],z=(0,i.useState)("true"),L=z[0],R=z[1],B=(0,i.useState)("true"),M=B[0],Y=B[1],H=(0,i.useState)(""),V=H[0],W=H[1],$=(0,i.useState)(!1),q=$[0],G=$[1],J=(0,i.useState)([]),K=J[0],Q=J[1],X=(0,i.useState)(!0),ee=X[0],ne=X[1],re=(0,i.useCallback)((function(e){ne(!1),e.forEach(function(){var e=x(a().mark((function e(n){var r,t,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",n),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),e.next=6,u().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",r);case 6:return t=e.sent,e.next=9,t.data.url;case 9:s=e.sent,Q((function(e){return b(e).concat([s])}));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]),te=(0,l.uI)({accept:"image/*",onDrop:re}),ae=te.getRootProps,se=te.getInputProps,ie=K.map((function(e,n){return(0,s.jsx)("div",{className:"drop-gallery-thumb",children:(0,s.jsx)("img",{src:e,className:"img-thumbnail"})},n)}));(0,i.useEffect)((function(){return function(){K.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[K]),(0,i.useEffect)((function(){S({productImage:d.productImage,hoverImage:d.hoverImage,name:d.name,description:d.description,price:d.price,oldPrice:d.oldPrice,newProduct:d.newProduct,availability:d.availability,offer:d.offer,onSale:d.onSale,discount:d.discount,discountPercent:d.discountPercent,productType:d.productType})}),[d]);var oe=function(e){ne(!1);var n=e.target,r=n.name,t=n.value,a=n.files;if("hoverImage"===r){if(a[0].size/1024/1024>2)return void(e.target.value=null);S((function(e){return g({},e,{hoverImage:a[0]})})),W(window.URL.createObjectURL(a[0]))}else S((function(e){return g({},e,j({},r,t))}))},ce=function(){var e=x(a().mark((function e(){var n,r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",C.hoverImage),n.append("upload_preset","vikings"),n.append("cloud_name","dev-empty"),e.next=6,u().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",n);case 6:return r=e.sent,t=r.data.url,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=x(a().mark((function e(n){var s,i,o,c,l,p,f,x,j,g,b,P;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),e.prev=1,G(!0),I(""),s="",!C.productImage){e.next=10;break}return e.next=8,ce();case 8:i=e.sent,s=i.replace(/^http:\/\//i,"https://");case 10:return o="".concat(h.Z,"/api/v1/products"),c=C.productImage,l=C.name,p=C.description,f=C.price,x=C.oldPrice,j=C.discountPercent,g=C.availability,b={id:d.id,storeId:t.id,userId:r.id,productImage:K.length>0?K:c,hoverImage:s||hoverImage,name:l,description:p,price:f,oldPrice:x,newProduct:U,availability:g,offer:L,onSale:E,discount:M,discountPercent:j,productType:D},e.next=15,u().put(o,b,{headers:{Authorization:N}});case 15:P=e.sent,v(P.data.products),G(!1),S(y),w("Product Updated successfully.",{appearance:"success"}),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(1),(0,m.Z)(e.t0,I);case 25:return e.prev=25,G(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[1,22,25,28]])})));return function(n){return e.apply(this,arguments)}}();return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:f?"admin-product-modal active":"admin-product-modal",children:(0,s.jsx)("div",{className:"modal-innter-content",children:(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsx)("button",{type:"button",className:"close",onClick:n,children:(0,s.jsx)("span",{"aria-hidden":"true",children:(0,s.jsx)("i",{className:"bx bx-x"})})}),(0,s.jsx)("h3",{children:"Update Product"}),(0,s.jsxs)("form",{onSubmit:le,children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Upload your Product image here"}),(0,s.jsxs)("div",g({className:"upload-img"},ae(),{children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bx bxs-image-add"}),"Click here or drop files to upload"]}),(0,s.jsx)("div",{className:"dropzone add-listings-box",children:(0,s.jsx)("div",{className:"file-upload-box",children:(0,s.jsx)("input",g({},se()))})})]})),(0,s.jsxs)("div",{className:"dropzone add-listings-box",children:[1===K.length&&(0,s.jsxs)("div",{className:"gallery-flex-single",children:[ie,(0,s.jsx)("input",g({},se()))]}),K.length>1&&(0,s.jsxs)("div",{className:"gallery-flex",children:[ie,(0,s.jsx)("input",g({},se()))]})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Upload your Product hover image here"}),(0,s.jsxs)("div",{className:"upload-img",children:[(0,s.jsxs)("span",{children:[(0,s.jsx)("i",{className:"bx bxs-image-add"}),"Click here or drop files to upload"]}),(0,s.jsx)("input",{type:"file",className:"form-control-file",name:"hoverImage",onChange:oe})]}),V&&(0,s.jsx)("div",{className:"uploaded-img",children:(0,s.jsx)("img",{src:V,alt:"Image",className:"img-thumbnail"})})]}),(0,s.jsx)("h4",{className:"title",children:"Add your Product description and necessary information from here"}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Name"}),(0,s.jsx)("input",{type:"text",className:"form-control",name:"name",value:C.name||"",onChange:oe})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Description"}),(0,s.jsx)("textarea",{className:"form-control",rows:"5",name:"description",value:C.description||"",onChange:oe})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Price"}),(0,s.jsx)("input",{type:"number",className:"form-control",name:"price",value:C.price||"",onChange:oe})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Old Price"}),(0,s.jsx)("input",{type:"number",className:"form-control",name:"oldPrice",value:C.oldPrice||"",onChange:oe})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"New Product?"}),(0,s.jsxs)("select",{className:"form-control",onChange:function(e){return F(e.target.value)},children:[(0,s.jsx)("option",{value:"true",children:"Yes"}),(0,s.jsx)("option",{value:"false",children:"No"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Available Items"}),(0,s.jsx)("input",{type:"number",className:"form-control",name:"availability",value:C.availability||"",onChange:oe})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Offer"}),(0,s.jsxs)("select",{className:"form-control",onChange:function(e){return R(e.target.value)},children:[(0,s.jsx)("option",{value:"true",children:"Yes"}),(0,s.jsx)("option",{value:"false",children:"No"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"On Sale?"}),(0,s.jsxs)("select",{className:"form-control",onChange:function(e){_(e.target.value),ne(!1)},children:[(0,s.jsx)("option",{value:"true",children:"Yes"}),(0,s.jsx)("option",{value:"false",children:"No"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Discount?"}),(0,s.jsxs)("select",{className:"form-control",onChange:function(e){Y(e.target.value),ne(!1)},children:[(0,s.jsx)("option",{value:"true",children:"Yes"}),(0,s.jsx)("option",{value:"false",children:"No"})]})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Discount In Percent (1 or 10 ...)"}),(0,s.jsx)("input",{type:"number",className:"form-control",name:"discountPercent",onChange:oe})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Product Type"}),(0,s.jsxs)("select",{className:"form-control",onChange:function(e){Z(e.target.value),ne(!1)},children:[(0,s.jsx)("option",{children:"Select Category"}),(0,s.jsx)("option",{value:"T-Shirt",children:"T-Shirt"}),(0,s.jsx)("option",{value:"Bags",children:"Bags"}),(0,s.jsx)("option",{value:"Shoes",children:"Shoes"}),(0,s.jsx)("option",{value:"Women Clothes",children:"Women Clothes"}),(0,s.jsx)("option",{value:"medical",children:"Medical Equipment"}),(0,s.jsx)("option",{value:"grocery",children:"Grocery"}),(0,s.jsx)("option",{value:"electronics",children:"Electronics"}),(0,s.jsx)("option",{value:"furniture",children:"Furniture"}),(0,s.jsx)("option",{value:"jewelry",children:"Jewelry"})]})]}),(0,s.jsxs)("div",{className:"modal-btn",children:[(0,s.jsx)("div",{className:"btn optional-btn float-left",onClick:n,children:"Cancel"}),(0,s.jsxs)("button",{className:ee?"isDisabled btn default-btn float-right":"btn default-btn float-right",children:["Update Product",q?(0,s.jsx)(p.Z,{color:"success",className:"product-spinner",animation:"border",size:"sm"}):""]})]})]})]})})})})}},6311:function(e,n,r){var t=r(5893),a=r(1664);n.Z=function(e){var n=e.viewProductDetail,r=e.active,s=(e.handleViewProduct,e.handleActiveModal);return console.log("view",n),(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:r?"admin-product-modal view-product active":"admin-product-modal view-product",children:(0,t.jsx)("div",{className:"modal-innter-content",children:(0,t.jsxs)("div",{className:"modal-body",children:[(0,t.jsx)("button",{type:"button",className:"close",onClick:s,children:(0,t.jsx)("span",{"aria-hidden":"true",children:(0,t.jsx)("i",{className:"bx bx-x"})})}),(0,t.jsx)("h3",{children:"View Product"}),(0,t.jsx)("div",{className:"view-product-content",children:(0,t.jsxs)("div",{className:"row align-items-center",children:[(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"product-img",children:[n&&(0,t.jsx)("img",{src:n.productImage[0],className:"main-image",alt:"image"}),"true"===n.onSale&&(0,t.jsx)("div",{className:"sale-tag",children:"Sale!"}),n.discountPercent&&(0,t.jsxs)("span",{className:"discount",children:[n.discountPercent,"% OFF"]})]})}),(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"products-details-desc",children:[(0,t.jsx)("h3",{children:n.name}),(0,t.jsx)("p",{children:n.description}),(0,t.jsx)("div",{className:"price",children:(0,t.jsxs)("span",{className:"new-price",children:["$",n.price]})}),(0,t.jsx)("ul",{className:"products-info",children:(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{children:"Availability:"}),(0,t.jsx)(a.default,{href:"#",children:(0,t.jsx)("a",{onClick:function(e){return e.preventDefault()},children:"In stock (7 items)"})})]})}),(0,t.jsx)("ul",{className:"products-info",children:(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{children:"Product Categories:"}),(0,t.jsx)(a.default,{href:"#",children:(0,t.jsx)("a",{onClick:function(e){return e.preventDefault()},children:n.productType})})]})})]})})]})})]})})})})}},7097:function(e,n,r){var t=r(4051),a=r.n(t),s=r(5893),i=r(4861),o=r(5005),c=r(9669),l=r.n(c),d=r(7105),u=r(2286);function p(e,n,r,t,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void r(l)}o.done?n(c):Promise.resolve(c).then(t,a)}n.Z=function(e){var n=e.show,r=e.productId,t=e.handleClose,c=e.productName,m=e.setProductList,h=(0,u.parseCookies)().livani_token,f=function(){var e,n=(e=a().mark((function e(){var n,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:h}},s="".concat(d.Z,"/api/v1/products/").concat(r),e.next=4,l().delete(s,n);case 4:i=e.sent,m(i.data),t();case 7:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var s=e.apply(n,r);function i(e){p(s,t,a,i,o,"next",e)}function o(e){p(s,t,a,i,o,"throw",e)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(i.Z,{show:n,onHide:t,children:[(0,s.jsx)(i.Z.Header,{closeButton:!0,children:(0,s.jsx)(i.Z.Title,{children:c})}),(0,s.jsx)(i.Z.Body,{children:"Do you reall want to delete this product?"}),(0,s.jsxs)(i.Z.Footer,{children:[(0,s.jsx)(o.Z,{variant:"secondary",onClick:t,children:"Close"}),(0,s.jsx)(o.Z,{variant:"danger",onClick:f,children:"Delete"})]})]})})}}}]);