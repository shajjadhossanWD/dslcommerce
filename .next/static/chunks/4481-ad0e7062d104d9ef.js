"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4481],{4481:function(e,r,a){a.d(r,{Z:function(){return C}});var n=a(5893),t=a(7294),s=a(3823),i=a(4051),o=a.n(i),l=a(2286),c=a(5611),u=a(8523),d=a(9669),m=a.n(d),p=a(6968),h=a(8370),f=a(279),v=a(7105);function x(e,r){(null==r||r>e.length)&&(r=e.length);for(var a=0,n=new Array(r);a<r;a++)n[a]=e[a];return n}function j(e,r,a,n,t,s,i){try{var o=e[s](i),l=o.value}catch(c){return void a(c)}o.done?r(l):Promise.resolve(l).then(n,t)}function b(e){return function(){var r=this,a=arguments;return new Promise((function(n,t){var s=e.apply(r,a);function i(e){j(s,n,t,i,o,"next",e)}function o(e){j(s,n,t,i,o,"throw",e)}i(void 0)}))}}function g(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function y(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(r){g(e,r,a[r])}))}return e}function N(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"===typeof e)return x(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return x(e,r)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w={productImage:"",hoverImage:"",name:"",description:"",price:"",oldPrice:"",newProduct:"",availability:"",offer:"",onSale:"",discount:"",discountPercent:"",productType:""},P=function(e){var r=e.active,a=e.productSideModal,s=e.user,i=e.store,d=(0,l.parseCookies)().livani_token,x=(0,c.e1)().addToast,j=(0,t.useState)(w),P=j[0],S=j[1],C=(0,t.useState)(""),k=C[0],O=C[1],_=(0,t.useState)(""),I=_[0],T=_[1],Z=(0,t.useState)("true"),E=Z[0],A=Z[1],D=(0,t.useState)("true"),U=D[0],R=D[1],F=(0,t.useState)("true"),M=F[0],Y=F[1],z=(0,t.useState)("true"),L=z[0],q=z[1],B=(0,t.useState)(""),W=B[0],G=B[1],J=(0,t.useState)(!1),X=J[0],$=J[1],H=(0,t.useState)([]),K=H[0],Q=H[1],V=(0,t.useCallback)((function(e){e.forEach(function(){var e=b(o().mark((function e(r){var a,n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",r),a.append("upload_preset","vikings"),a.append("cloud_name","dev-empty"),e.next=6,m().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",a);case 6:return n=e.sent,e.next=9,n.data.url;case 9:t=e.sent,Q((function(e){return N(e).concat([t])}));case 11:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())}),[]),ee=(0,u.uI)({accept:"image/*",onDrop:V}),re=ee.getRootProps,ae=ee.getInputProps,ne=K.map((function(e,r){return(0,n.jsx)("div",{className:"drop-gallery-thumb",children:(0,n.jsx)("img",{src:e,className:"img-thumbnail"})},r)}));(0,t.useEffect)((function(){return function(){K.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[K]);var te=function(e){var r=e.target,a=r.name,n=r.value,t=r.files;if("hoverImage"===a){if(t[0].size/1024/1024>2)return void(e.target.value=null);S((function(e){return y({},e,{hoverImage:t[0]})})),G(window.URL.createObjectURL(t[0]))}else S((function(e){return y({},e,g({},a,n))}))},se=function(){var e=b(o().mark((function e(){var r,a,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("file",P.hoverImage),r.append("upload_preset","vikings"),r.append("cloud_name","dev-empty"),e.next=6,m().post("https://api.cloudinary.com/v1_1/dev-empty/image/upload",r);case 6:return a=e.sent,n=a.data.url,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=b(o().mark((function e(r){var n,t,l,c,u,p,h,j,b,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),e.prev=1,$(!0),O(""),n="",!P.hoverImage){e.next=10;break}return e.next=8,se();case 8:t=e.sent,n=t.replace(/^http:\/\//i,"https://");case 10:return l="".concat(v.Z,"/api/v1/products"),c=P.name,u=P.description,p=P.price,h=P.oldPrice,j=P.availability,b=P.discountPercent,g={storeId:i.id,userId:s.id,productImage:K,hoverImage:n,name:c,description:u,price:p,oldPrice:h,newProduct:U,availability:j,offer:M,onSale:E,discount:L,discountPercent:b,productType:I},e.next=15,m().post(l,g,{headers:{Authorization:d}});case 15:$(!1),S(w),Q([]),G(""),T(""),a(),x("Product created successfully.",{appearance:"success"}),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),(0,f.Z)(e.t0,O);case 27:return e.prev=27,$(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[1,24,27,30]])})));return function(r){return e.apply(this,arguments)}}();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:r?"admin-product-modal active":"admin-product-modal",children:(0,n.jsx)("div",{className:"modal-innter-content",children:(0,n.jsxs)("div",{className:"modal-body",children:[(0,n.jsx)("button",{type:"button",className:"close",onClick:a,children:(0,n.jsx)("span",{"aria-hidden":"true",children:(0,n.jsx)("i",{className:"bx bx-x"})})}),(0,n.jsx)("h3",{children:"Add Product"}),(0,n.jsxs)("form",{onSubmit:ie,children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Upload your Product image here"}),(0,n.jsx)("div",y({},re(),{className:"dropzone add-images-box upload-img",children:1===K.length?(0,n.jsxs)("div",{className:"gallery-flex-single ",children:[ne,(0,n.jsx)("input",y({},ae()))]}):K.length>1?(0,n.jsxs)("div",{className:"gallery-flex ",children:[ne,(0,n.jsx)("input",y({},ae()))]}):(0,n.jsxs)("div",{className:"file-upload-box global-pointer",children:[(0,n.jsx)("input",y({},ae())),(0,n.jsx)("i",{className:"bx bxs-image-add"}),(0,n.jsx)("p",{children:"click here to select files"})]})}))]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Upload your Product hover image here"}),(0,n.jsxs)("div",{className:"upload-img",children:[(0,n.jsxs)("span",{children:[(0,n.jsx)("i",{className:"bx bxs-image-add"}),"Click here or drop files to upload"]}),(0,n.jsx)("input",{type:"file",className:"form-control-file",name:"hoverImage",onChange:te})]}),W&&(0,n.jsx)("div",{className:"uploaded-img",children:(0,n.jsx)("img",{src:W,alt:"Image",className:"img-thumbnail"})})]}),(0,n.jsx)("h4",{className:"title",children:"Add your Product description and necessary information from here"}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Name"}),(0,n.jsx)("input",{type:"text",className:"form-control",name:"name",value:P.name,onChange:te})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Description"}),(0,n.jsx)("textarea",{className:"form-control",rows:"5",name:"description",value:P.description,onChange:te})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Price"}),(0,n.jsx)("input",{type:"number",className:"form-control",name:"price",value:P.price,onChange:te})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Old Price"}),(0,n.jsx)("input",{type:"number",className:"form-control",name:"oldPrice",value:P.oldPrice,onChange:te})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"New Product?"}),(0,n.jsxs)("select",{className:"form-control",onChange:function(e){return R(e.target.value)},children:[(0,n.jsx)("option",{value:"true",children:"Yes"}),(0,n.jsx)("option",{value:"false",children:"No"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Available Items"}),(0,n.jsx)("input",{type:"number",className:"form-control",name:"availability",value:P.availability,onChange:te})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Offer"}),(0,n.jsxs)("select",{className:"form-control",onChange:function(e){return Y(e.target.value)},children:[(0,n.jsx)("option",{value:"true",children:"Yes"}),(0,n.jsx)("option",{value:"false",children:"No"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"On Sale?"}),(0,n.jsxs)("select",{className:"form-control",onChange:function(e){return A(e.target.value)},children:[(0,n.jsx)("option",{value:"true",children:"Yes"}),(0,n.jsx)("option",{value:"false",children:"No"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Discount?"}),(0,n.jsxs)("select",{className:"form-control",onChange:function(e){return q(e.target.value)},children:[(0,n.jsx)("option",{value:"true",children:"Yes"}),(0,n.jsx)("option",{value:"false",children:"No"})]})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Discount In Percent (1 or 10 ...)"}),(0,n.jsx)("input",{type:"number",className:"form-control",name:"discountPercent",value:P.discountPercent,onChange:te})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Product Type"}),(0,n.jsxs)("select",{className:"form-control",onChange:function(e){return T(e.target.value)},value:I,children:[(0,n.jsx)("option",{children:"Select Category"}),(0,n.jsx)("option",{value:"T-Shirt",children:"T-Shirt"}),(0,n.jsx)("option",{value:"Bags",children:"Bags"}),(0,n.jsx)("option",{value:"Shoes",children:"Shoes"}),(0,n.jsx)("option",{value:"Women Clothes",children:"Women Clothes"}),(0,n.jsx)("option",{value:"medical",children:"Medical Equipment"}),(0,n.jsx)("option",{value:"grocery",children:"Grocery"}),(0,n.jsx)("option",{value:"electronics",children:"Electronics"}),(0,n.jsx)("option",{value:"furniture",children:"Furniture"}),(0,n.jsx)("option",{value:"jewelry",children:"Jewelry"})]})]}),(0,n.jsxs)("div",{className:"modal-btn",children:[(0,n.jsx)("div",{className:"btn optional-btn float-left",onClick:a,children:"Cancel"}),(0,n.jsxs)("button",{className:"btn default-btn float-right",children:["Create Product",X?(0,n.jsx)(p.Z,{color:"success",className:"product-spinner",animation:"border",size:"sm"}):""]})]}),k?(0,n.jsx)("div",{className:"create-alert",children:(0,n.jsx)(h.Z,{variant:"danger",show:!!k,children:k})}):""]})]})})})})},S=a(9042),C=function(e){var r=e.user,a=e.store,i=(0,t.useState)(!1),o=(i[0],i[1]),l=(0,t.useState)(!1),c=l[0],u=l[1];(0,t.useEffect)((function(){o(!1)}),[]);var d=function(){u(!c)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"Toastify__toast-container Toastify__toast-container--bottom-center",children:(0,n.jsxs)("div",{className:"Toastify__toast Toastify__toast--warning",children:[(0,n.jsxs)("div",{role:"alert",className:"Toastify__toast-body",children:[(0,n.jsx)("i",{className:"bx bx-info-circle"})," Some functions may not work because of storefront vulnerability!"]}),(0,n.jsx)("div",{className:"Toastify__progress-bar Toastify__progress-bar--controlled Toastify__progress-bar--warning",style:{animationDuration:"50000ms",animationPlayState:"paused",opacity:"1",transform:"scaleX(0)"}})]})}),(0,n.jsxs)("nav",{className:"navbar navbar-expand admin-top-navbar",children:[(0,n.jsx)(s.Z,{href:"/admin/dashboard",children:(0,n.jsx)("a",{className:"navbar-brand",children:(0,n.jsx)("img",{src:"../../images/logo.png",a:"logo"})})}),(0,n.jsxs)("div",{className:"burger-menu x",children:[(0,n.jsx)("span",{className:"top-bar"}),(0,n.jsx)("span",{className:"middle-bar"}),(0,n.jsx)("span",{className:"bottom-bar"})]}),(0,n.jsx)("div",{className:"collapse navbar-collapse show",id:"navbarSupportedContent",children:(0,n.jsxs)("ul",{className:"navbar-nav ms-auto",children:[(0,n.jsx)("li",{className:"nav-item add-products",children:(0,n.jsx)(s.Z,{href:"#",activeClassName:"active",children:(0,n.jsx)("a",{className:"nav-link",onClick:d,children:"Add Products"})})}),(0,n.jsxs)("li",{className:"nav-item profile",children:[(0,n.jsx)(s.Z,{href:"#",children:(0,n.jsxs)("a",{className:"nav-link",children:[(0,n.jsx)("i",{className:"bx bx-user "})," ",r&&r.name," "]})}),(0,n.jsxs)("ul",{className:"dropdown-menu",children:[(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(s.Z,{href:"/admin/dashboard",activeClassName:"active",children:(0,n.jsx)("a",{className:"nav-link",children:"Dashboard"})})}),(0,n.jsx)("li",{className:"nav-item",children:a&&"approved"===a.status&&(0,n.jsx)(s.Z,{href:"/stores/dashboard",activeClassName:"active",children:(0,n.jsx)("a",{className:"nav-link",children:"Store Dashboard"})})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(s.Z,{href:"/profile",activeClassName:"active",children:(0,n.jsx)("a",{className:"nav-link",children:" My Profile"})})}),(0,n.jsx)("li",{className:"nav-item",children:(0,n.jsx)(s.Z,{href:"#",activeClassName:"active",children:(0,n.jsx)("a",{onClick:S.hY,className:"nav-link",children:"Sign out"})})})]})]})]})})]}),(0,n.jsx)(P,{active:c,productSideModal:d,user:r,store:a})]})}},3823:function(e,r,a){var n=a(5893),t=a(1163),s=a(1664),i=a(7294);function o(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function l(e,r){if(null==e)return{};var a,n,t=function(e,r){if(null==e)return{};var a,n,t={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],r.indexOf(a)>=0||(t[a]=e[a]);return t}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],r.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(t[a]=e[a])}return t}r.Z=(0,t.withRouter)((function(e){var r=e.router,a=e.children,t=l(e,["router","children"]),c=i.Children.only(a),u=c.props.className||"";return r.pathname===t.href&&t.activeClassName&&(u="".concat(u," ").concat(t.activeClassName).trim()),delete t.activeClassName,(0,n.jsx)(s.default,function(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{},n=Object.keys(a);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable})))),n.forEach((function(r){o(e,r,a[r])}))}return e}({},t,{children:i.cloneElement(c,{className:u})}))}))},279:function(e,r){r.Z=function(e,r){var a;e.response?(a=e.response.data,e.response.data.error&&(a=e.response.data.error.message)):e.request&&(a=e.request),r(a)}}}]);